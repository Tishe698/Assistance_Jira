# ==============================================
# –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ë–û–¢–ê - –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
# ==============================================
# –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
# –ò–∑–º–µ–Ω—è–π—Ç–µ —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏—è, —Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–µ —Ç—Ä–æ–≥–∞–π—Ç–µ

import os
import sys
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞
load_dotenv()

def check_required_env_vars():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è"""
    required_vars = {
        "BOT_TOKEN": "–¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞",
        "WORK_CHAT_ID": "ID —Ä–∞–±–æ—á–µ–≥–æ —á–∞—Ç–∞",
        "JIRA_LOGIN": "–õ–æ–≥–∏–Ω Jira",
        "JIRA_PASSWORD": "–ü–∞—Ä–æ–ª—å Jira"
    }
    
    missing_vars = []
    for var, description in required_vars.items():
        if not os.getenv(var):
            missing_vars.append(f"{var} ({description})")
    
    if missing_vars:
        print("‚ùå –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:")
        for var in missing_vars:
            print(f"   - {var}")
        print("\nüìã –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤–µ pass.env –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –≤ .env")
        print("üîç –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ ENV_SETUP.md")
        sys.exit(1)

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
check_required_env_vars()

# ============== TELEGRAM –ù–ê–°–¢–†–û–ô–ö–ò ==============
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (–ø–æ–ª—É—á–µ–Ω –æ—Ç @BotFather)
BOT_TOKEN = os.getenv("BOT_TOKEN")

# ID —Ä–∞–±–æ—á–µ–≥–æ —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
WORK_CHAT_ID = int(os.getenv("WORK_CHAT_ID"))

# ============== JIRA –ù–ê–°–¢–†–û–ô–ö–ò ==============
# –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –¥–ª—è Jira
JIRA_LOGIN = os.getenv("JIRA_LOGIN")
JIRA_PASSWORD = os.getenv("JIRA_PASSWORD")

# ============== –ú–û–ù–ò–¢–û–†–ò–ù–ì –ù–ê–°–¢–†–û–ô–ö–ò ==============
# –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
# 60 = –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É, 300 = –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
CHECK_INTERVAL = 300


# –ò–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (—Å–µ–∫—É–Ω–¥—ã)
REMINDER_INTERVAL = 300  # 5 –º–∏–Ω—É—Ç

# –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –∫–æ—Ç–æ—Ä—É—é –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º
MONITORED_COLUMN = "–û–∂–∏–¥–∞—é—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"

# ============== –°–û–û–ë–©–ï–ù–ò–Ø ==============
# –¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö
NOTIFICATION_TEMPLATE = """üîî –ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ!

üìà –î–æ–±–∞–≤–ª–µ–Ω–æ: {difference} –∑–∞–¥–∞—á(–∏)
üìä –í—Å–µ–≥–æ –≤ –∫–æ–ª–æ–Ω–∫–µ: {total_count}
üìÖ –í—Ä–µ–º—è: {timestamp}"""

# –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞
STARTUP_MESSAGE = "ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω! –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–µ–Ω."

# ============== –û–¢–õ–ê–î–ö–ê ==============
# –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ (True/False)
DEBUG_MODE = True

# –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
SHOW_CHECK_STATUS = True

